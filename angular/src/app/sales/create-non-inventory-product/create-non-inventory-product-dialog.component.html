<form [formGroup]="nipForm" novalidate (ngSubmit)="submit()">
    <mat-card class="shipping-card">
        <mat-card-header>
            <mat-card-title>{{ "NonInventoryProduct" | localize }}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div class="row">
                <div class="col">
                    <partial-products [clearSelectedField]="true" (selectedEvent)="selectedProducts($event)">
                    </partial-products>
                    <mat-error *ngIf="productId.touched && productId.invalid">
                        <mat-label *ngIf="productId.errors.required">Product is required</mat-label>
                    </mat-error>
                </div>
            </div>

            <mat-form-field>
                <mat-label>Choose a warehouse</mat-label>
                <mat-select (selectionChange)="selectedWarehouse($event)" required>
                    <mat-option *ngFor="let w of warehouses" [value]="w">{{ w.name }}</mat-option>
                </mat-select>
                <mat-error *ngIf="warehouseId.touched && warehouseId.invalid">
                    <mat-label *ngIf="warehouseId.errors.required">Warehouse is required</mat-label>
                </mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Quantity</mat-label>
                <input type="number" matInput [formControl]="quantity" required>
                <mat-error *ngIf="quantity.touched && quantity.invalid">
                    <mat-label *ngIf="quantity.errors.required">Quantity is required</mat-label>
                    <mat-label *ngIf="quantity.errors.min">Minimum should be 1</mat-label>
                </mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Cost Price</mat-label>
                <input type="number" matInput [formControl]="costPrice" required>
                <mat-error *ngIf="costPrice.touched && costPrice.invalid">
                    <mat-label *ngIf="costPrice.errors.required">Cost price is required</mat-label>
                    <mat-label *ngIf="costPrice.errors.min">Minimum should be 1</mat-label>
                </mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Selling Price</mat-label>
                <input type="number" matInput [formControl]="sellingPrice" required>
                <mat-error *ngIf="sellingPrice.touched && sellingPrice.invalid">
                    <mat-label *ngIf="sellingPrice.errors.required">Selling price is required</mat-label>
                    <mat-label *ngIf="sellingPrice.errors.min">Minimum should be 1</mat-label>
                </mat-error>
            </mat-form-field>

            <mat-form-field>
                <mat-label>Maximum Retail Price</mat-label>
                <input type="number" matInput [formControl]="maximumRetailPrice" required>
                <mat-error *ngIf="maximumRetailPrice.touched && maximumRetailPrice.invalid">
                    <mat-label *ngIf="maximumRetailPrice.errors.required">Maximum retail price is required</mat-label>
                    <mat-label *ngIf="maximumRetailPrice.errors.min">Minimum should be 1</mat-label>
                </mat-error>
            </mat-form-field>
        </mat-card-content>
        <mat-card-actions>
            <button mat-button mat-dialog-close>{{ "Cancel" | localize }}</button>
            <button mat-raised-button color="primary" type="submit" [disabled]="!nipForm.valid">
                {{ "Submit" | localize }}
            </button>
        </mat-card-actions>
    </mat-card>
</form>
